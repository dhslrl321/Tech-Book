# 처리율 제한 장치

키워드 : `Rate Limit`, `Redis Rate Limit`, `BitBucket`, `Fixed-Sliding-Window`, `Sliding-Window`

### 목차

- 처리율 제한 장치
  - Rate Limiter 란
  - 사용 예제
  - 장점
  - 구현 방법
- Rate Limit 구현 알고리즘
  - Bit Bucket
  - Fixed-Sliding-Window

# 처리율 제한 장치

- **처리율 제한 장치, Rate Limiter란?**
  - 네트워크 트래픽을 제어하는 어떠한 장치 (꼭 웹에만 국한된 개념은 아님)
  - HTTP 에서는 특정 조건 (기한, 횟수) 에 의해서 사용자의 요청을 잠시 중단시키는 것을 의미한다.
  - 사용자에게 안정적인 서비스를 제공하기 위해서 처리양을 제한하여 지속적인 서비스를 할 수 있도록 하는 장치
- **사용 예제**
  - 한 사용자는 10분동안 5개 이상의 글을 작성할 수 없다.
  - 같은 디바이스로 하루에 1번만 리워드를 받을 수 있다.
  - 전체 시스템은 요청을 초당 100개만 받을 수 있다.
  - 서비스 내부에서 외부 벤더에게 보낼 수 있는 요청은 하루에 10개로 제한한다.
- **장점**
  - DoS 를 방지할 수 있다.
  - 비용을 절감할 수 있다.
  - 서버의 과부하를 막을 수 있다.
- **구현 방법 혹은 제약사항**
  - 위치
    - 애플리케이션 코드 내부
    - Middleware 로서 독립적인 서버 및 Gateway 에 부착
      - Rate Limiter 는 구현이 까다로우니 상용 API Gateway 에 있는 처리율 제한 장치를 사용하는 것도 방법임
  - 제약
    - 한 시스템 내부에서 여러 컴포넌트들이 처리율 제한 장치를 사용할 수 있어야 해야한다.
    - 처리율 제한 규칙을 부착할 수 있도록 해야한다.
    - 낮은 응답 시간을 보장해 다른 서비스에 영향을 가지 않도록 해야한다.
