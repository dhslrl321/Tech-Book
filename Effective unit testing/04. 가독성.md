# 가독성

- 테스트를 읽는 프로그래머는 코드가 해야할 일을 이해할 수 있어야 한다.
  - 내가 글을 쓰는데 가독성을 지킨다는것은 이것을 읽는 사람으로 하여금 잘 읽히게 하고싶다 라는 것이다.
- 코드가 실제로 한 일이 무엇인지 말할 수 있어야 한다
- 나쁜 테스트의 냄새
  1. 기본 타입 단언
  2. 광역 단언
  3. 비트 단언
  4. 부차적 상세 정보
  5. 다중 인격
  6. 쪼개진 논리
  7. 매직 넘버
  8. 과잉 보호 테스트

## 1. 기본 타입 단언

- 매직넘버

## 2. Hyperassertion, 광역 단언

- 검사하려는 동작의 아주 작은 하나까지도 놓치지 않으려는 집착의 산물

## 3. 비트 단언

## 4. Incidental Details, 부차적 상세 정보

- 읽기 쉬운 코드는 읽는 이에게 그 의도와 목적, 의미를 빠르고 정확하게 전달
- 테스트 코드에 부수적인 정보가 넘쳐 흐른다
- 개선 방법
  - 숨어있는 본질을 찾아내야한다
    1. 핵심이 아닌 설정은 private 메서드나 setup 메서드로 추출하라
    2. 적절한 인자와 서술형 이름을 사용하라
    3. 한 메서드 안에서 모두 같은 수준으로 추상화하라
- 팁
  - 리스트를 쓴다면 가변인자로 바꿔라
  - 가변인자를 받을 수 있는 유틸을 사용하라

## 5. Split Personality, 다중 인격

- 다중 인격: 여러 개의 영혼이 한 몸을 공유하는 것
- 다중 인격 테스트: 여러 개의 테스트 목적이 한 테스트 메서드를 공유하는 것
- 문제
  - 한 테스트에서 여러 목적을 테스트하면 A 라는 목적을 수정하면 해당 테스트가 깨지고 결국 B 도 봐야한다
- 개선 방법
  - 중복을 제거하고 테스트 케이스를 나눈다.
  - 중복을 제거하기 위해서 값을 채웠는데, 그들이 달라져야 한다면 테스트 케이스말고 테스트 클래스를 분리시켜 해결할 수 있다.

# 중요

pdf 95, 4.4.3 두번쨰 문단, "한 메서드 안에서는 모두 같은 수준으로 추상화하라"
pdf 98, 일부 기본값 이라는 불분명한 결과를 검사할 때는 여러 개의 테스트 클래스로 나눠서 해결

- 이게 픽스처가 서로 다른게 필요하니까 분리해야 한다는건가?
- 여러 케이스를 커버하기 위해서 셋업이 길어지는것이 안좋아서?
